<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PALPITEIROS PRO</title>
    <style>
        :root { 
            --primary: #075e54; --accent: #25d366; --bg: #0f172a; --card-bg: #1e293b;
            --gold: #fbbf24; --silver: #94a3b8; --bronze: #b45309; --danger: #ef4444; --white: #ffffff;
        }
        body { font-family: 'Inter', system-ui, sans-serif; background-color: var(--bg); color: #fff; margin: 0; padding: 12px; transition: 0.3s; }
        .container { max-width: 900px; margin: auto; }
        
        header { 
            padding: 30px 20px; 
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)), url('https://usagif.com/wp-content/uploads/gifs/fire-51.gif');
            background-size: cover; background-position: center; border-radius: 16px; margin-bottom: 15px; 
            border: 1px solid #334155; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        header h1 { margin: 0; font-size: 32px; font-weight: 900; letter-spacing: 3px; color: #fff; text-shadow: 2px 2px 8px rgba(0,0,0,0.8); text-transform: uppercase; }
        .criador-txt { font-size: 10px; color: #cbd5e1; opacity: 0.8; margin-top: 5px; }

        .switch-container { position: absolute; top: 15px; right: 15px; display: flex; align-items: center; gap: 8px; }

        .main-card { background: var(--card-bg); padding: 15px; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
        .card-p { background: #0f172a; padding: 12px; border-radius: 12px; border: 1px solid #334155; position: relative; margin-bottom: 10px; }
        .card-p strong { display: block; margin-bottom: 8px; color: #fff; font-size: 11px; opacity: 0.8; }

        textarea { width: 100%; height: 80px; border: 1px solid #1e293b; border-radius: 8px; padding: 10px; font-size: 13px; box-sizing: border-box; background: #1e293b; color: #cbd5e1; outline: none; }

        .trash-btn { position: absolute; top: 10px; right: 10px; background: none; border: none; color: #666; cursor: pointer; font-size: 14px; transition: 0.2s; }
        .trash-btn:hover { color: var(--danger); transform: scale(1.2); }

        .grid-p { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        @media (min-width: 600px) { .grid-p { grid-template-columns: repeat(3, 1fr); } }

        .btn-calc { width: 100%; padding: 16px; background: var(--accent); color: #064e3b; border: none; border-radius: 12px; font-size: 15px; font-weight: 800; cursor: pointer; margin-top: 20px; text-transform: uppercase; }
        
        #resultado-display { display: none; margin-top: 20px; }
        .chart-row { display: flex; align-items: flex-end; justify-content: space-between; gap: 4px; height: 120px; margin: 30px 0 35px 0; padding: 0 5px; }
        .bar-item { flex: 1; display: flex; flex-direction: column; justify-content: flex-end; align-items: center; border-radius: 6px 6px 3px 3px; color: #0f172a; font-weight: bold; padding: 8px 1px; text-align: center; }
        .rank-1 { background: var(--gold); height: 100%; border: 1px solid #fff; }
        .rank-2 { background: var(--silver); height: 85%; }
        .rank-3 { background: #ffffff; height: 75%; }
        .rank-4 { background: #ffffff; height: 65%; }
        .rank-5 { background: var(--danger); color: #fff; height: 55%; }
        .rank-6 { background: var(--danger); color: #fff; height: 45%; }
        .name-label { font-size: 9px; text-transform: uppercase; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 92%; margin: 3px 0; }
        .pts-label { font-size: 9px; background: rgba(0,0,0,0.1); border-radius: 4px; padding: 1px 3px; }

        .section-title { font-size: 11px; text-transform: uppercase; color: #94a3b8; margin: 20px 0 10px 5px; font-weight: 700; }
        .pontos-hoje-box { background: #f8fafc; color: #0f172a; padding: 12px; border-radius: 12px; margin-bottom: 20px; font-family: monospace; white-space: pre-wrap; text-align: center; font-weight: bold; }
        
        .conf-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 12px; }
        .conf-card { background: #0f172a; border-radius: 12px; padding: 15px; border-left: 4px solid var(--accent); position: relative; overflow: hidden; }
        .conf-header { display: flex; justify-content: space-between; font-size: 13px; font-weight: 800; text-transform: uppercase; color: var(--accent); margin-bottom: 10px; }
        .conf-divider { height: 2px; width: 60%; background: linear-gradient(to right, var(--accent), transparent); margin-bottom: 12px; border-radius: 2px; opacity: 0.6; }

        .conf-log { 
            font-size: 10px; color: #94a3b8; white-space: pre-wrap; line-height: 1.6;
            background: rgba(0,0,0,0.2); padding: 8px; border-radius: 8px;
        }

        .area-botoes { display: none; gap: 8px; margin: 15px 0; }
        .btn-copy { flex: 1; padding: 12px; border: none; border-radius: 10px; color: white; font-weight: bold; cursor: pointer; font-size: 11px; }

        #modal-secreto {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.98); z-index: 9999; overflow-y: auto; padding: 15px; box-sizing: border-box;
        }
        .modal-content { max-width: 500px; margin: auto; background: var(--card-bg); padding: 20px; border-radius: 16px; border: 1px solid var(--accent); position: relative; }
        .btn-close { position: absolute; top: 10px; right: 10px; background: none; color: var(--danger); border: none; font-size: 20px; cursor: pointer; }
        .secret-icon { cursor: pointer; font-size: 18px; opacity: 0.8; filter: drop-shadow(0 0 5px rgba(251, 191, 36, 0.4)); transition: 0.3s; }
        .secret-icon:hover { opacity: 1; transform: scale(1.3); }
        
        .slim-row { border-bottom: 1px solid rgba(255,255,255,0.05); padding: 8px 0; font-size: 11px; display: flex; justify-content: space-between; }
        .resumo-iguais { background: rgba(37, 211, 102, 0.1); color: var(--accent); padding: 8px; border-radius: 8px; text-align: center; font-size: 10px; margin: 10px 0; font-weight: bold; }
        .prob-footer { background: #0f172a; padding: 10px; border-radius: 8px; margin-top: 10px; font-size: 11px; border-left: 3px solid var(--gold); }
        
        select[multiple] { height: 80px; width: 100%; background: #0f172a; color: #fff; border: 1px solid #334155; border-radius: 8px; font-size: 12px; }
        .tab-btn { padding: 8px; border: none; background: #0f172a; color: #94a3b8; cursor: pointer; font-size: 10px; border-radius: 5px; margin-right: 5px; }
        .tab-btn.active { background: var(--accent); color: #064e3b; font-weight: bold; }

        /* ESTILOS DA ESTRAT√âGIA */
        #output-lideranca {
            margin-top: 15px; padding: 15px; border-radius: 12px;
            background: #0f172a; font-size: 11px; color: #fff; border: 1px solid #334155;
            display: none; line-height: 1.6;
        }
        .espelho-jogo { border-bottom: 1px solid #334155; padding: 10px 0; }
        .status-badge { padding: 2px 6px; border-radius: 4px; font-size: 9px; font-weight: bold; margin-left: 5px; }
        .status-verde { background: var(--accent); color: #064e3b; }
        .status-amarelo { background: var(--gold); color: #000; }
        .status-vermelho { background: var(--danger); color: #fff; }
    </style>
</head>
<body>

<div id="modal-secreto">
    <div class="modal-content">
        <button class="btn-close" onclick="fecharAbaSecreta()">‚úï</button>
        <div style="margin-bottom: 15px;">
            <button class="tab-btn active" id="tab1" onclick="switchTab(1)">ANALISADOR SLIM</button>
            <button class="tab-btn" id="tab2" onclick="switchTab(2)">PRESERVAR LIDERAN√áA</button>
        </div>
        
        <div id="content-tab1">
            <div style="display: grid; grid-template-columns: 1fr 1.5fr; gap: 10px; margin-bottom: 15px;">
                <select id="select-principal" style="background:#0f172a; color:#fff; border:1px solid #334155; padding:5px; border-radius:5px; font-size:11px;"></select>
                <select id="select-rivais" multiple></select>
            </div>
            <button class="btn-calc" style="padding: 10px; margin-top: 0; font-size: 12px;" onclick="executarComparacao()">COMPARAR AGORA</button>
            <div id="container-comparacao"></div>
        </div>

        <div id="content-tab2" style="display:none">
            <p style="font-size: 10px; color: #94a3b8;">Compare amea√ßas e identifique onde espelhar palpites para travar a pontua√ß√£o.</p>
            <select id="select-alvos" multiple style="height: 120px;"></select>
            <button class="btn-calc" style="padding: 10px; background: var(--gold); color: #000;" onclick="gerarEstrategiaLideranca()">GERAR PALPITE ESPELHADO</button>
            <div id="output-lideranca"></div>
        </div>
    </div>
</div>

<div class="container">
    <header>
        <div class="switch-container">
            <div class="secret-icon" onclick="abrirAbaSecreta()" title="Acesso Secreto">üîê</div>
        </div>
        <h1>PALPITEIROS</h1>
        <div class="criador-txt">Criador: Leandro</div>
    </header>

    <div class="main-card">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px;">
            <div class="card-p">
                <strong>üìä Classifica√ß√£o</strong>
                <button class="trash-btn" onclick="limparTexto('tabela_anterior')">üóëÔ∏è</button>
                <textarea id="tabela_anterior"></textarea>
            </div>
            <div class="card-p">
                <strong>üö® Resultados</strong>
                <button class="trash-btn" onclick="limparTexto('resultados_oficiais')">üóëÔ∏è</button>
                <textarea id="resultados_oficiais"></textarea>
            </div>
        </div>

        <div class="section-title">üë§ Palpites dos Membros</div>
        <div class="grid-p">
            <script>
                for(let i=0; i<6; i++){
                    document.write(`<div class="card-p"><strong id="label-${i}">Part. ${i+1}</strong><button class="trash-btn" onclick="limparIndividual(${i})">üóëÔ∏è</button><textarea class="palpite-input" oninput="detectarNome(${i})"></textarea></div>`);
                }
            </script>
        </div>

        <button class="btn-calc" onclick="processarBolao()">ATUALIZAR RODADA</button>
        
        <div class="area-botoes" id="areaBotoes">
            <button class="btn-copy" style="background:#3b82f6" onclick="copiarOpcao('ranking')">üèÜ Tabela</button>
            <button class="btn-copy" style="background:#f59e0b" onclick="copiarOpcao('hoje')">‚öΩ Pontos</button>
            <button class="btn-copy" style="background:#10b981" onclick="copiarOpcao('completo')">üìã Tudo</button>
        </div>

        <div id="resultado-display">
            <div class="section-title">üèÜ CLASSIFICA√á√ÉO GERAL</div>
            <div class="chart-row" id="chart-area"></div>
            <div id="hoje-visivel" class="pontos-hoje-box"></div>
            <div id="conf-area" class="conf-grid"></div>
        </div>
    </div>
</div>

<script>
let cacheResultado = { completo: "", ranking: "", hoje: "" };
const mapaEmoji = { '0Ô∏è‚É£':'0','1Ô∏è‚É£':'1','2Ô∏è‚É£':'2','3Ô∏è‚É£':'3','4Ô∏è‚É£':'4','5Ô∏è‚É£':'5','6Ô∏è‚É£':'6','7Ô∏è‚É£':'7','8Ô∏è‚É£':'8','9Ô∏è‚É£':'9' };

function limparTexto(id) { document.getElementById(id).value = ""; }
function limparIndividual(index) {
    document.querySelectorAll('.palpite-input')[index].value = "";
    document.getElementById('label-' + index).innerText = "Part. " + (index + 1);
}

function switchTab(t) {
    document.getElementById('content-tab1').style.display = t === 1 ? 'block' : 'none';
    document.getElementById('content-tab2').style.display = t === 2 ? 'block' : 'none';
    document.getElementById('tab1').className = t === 1 ? 'tab-btn active' : 'tab-btn';
    document.getElementById('tab2').className = t === 2 ? 'tab-btn active' : 'tab-btn';
}

function abrirAbaSecreta() {
    if(prompt("Chave:") === "2815") {
        document.getElementById('modal-secreto').style.display = 'block';
        const sP = document.getElementById('select-principal');
        const sR = document.getElementById('select-rivais');
        const sA = document.getElementById('select-alvos');
        sP.innerHTML = ""; sR.innerHTML = ""; sA.innerHTML = "";
        document.querySelectorAll('.palpite-input').forEach(input => {
            if(input.value.trim()){
                const nome = extrairNome(input.value);
                const opt = `<option value="${nome}">${nome}</option>`;
                sP.innerHTML += opt; sR.innerHTML += opt; sA.innerHTML += opt;
            }
        });
    }
}
function fecharAbaSecreta() { document.getElementById('modal-secreto').style.display = 'none'; }

function gerarEstrategiaLideranca() {
    const alvos = Array.from(document.getElementById('select-alvos').selectedOptions).map(o => o.value);
    const inputs = Array.from(document.querySelectorAll('.palpite-input'));
    const oficiais = extrairTodosJogos(document.getElementById('resultados_oficiais').value);
    
    if (alvos.length < 2) return alert("Selecione pelo menos 2 participantes para comparar!");

    let html = "<h4 style='margin:0 0 10px 0; color:var(--gold)'>üõ°Ô∏è ANALISE DE TRAVAMENTO</h4>";
    let jogosMapeados = {};

    alvos.forEach(nome => {
        const txt = inputs.find(i => extrairNome(i.value) === nome).value;
        const palpites = extrairTodosJogos(txt);
        palpites.forEach(p => {
            if(oficiais.some(of => compararTimes(of.timeA, p.timeA))) return;
            const chave = p.timeA + " x " + p.timeB;
            if(!jogosMapeados[chave]) jogosMapeados[chave] = [];
            jogosMapeados[chave].push({nome, golsA: p.golsA, golsB: p.golsB, tendencia: Math.sign(p.golsA - p.golsB)});
        });
    });

    for(let jogo in jogosMapeados) {
        const dados = jogosMapeados[jogo];
        if (dados.length < alvos.length) continue; 

        const todosIguais = dados.every(d => d.golsA === dados[0].golsA && d.golsB === dados[0].golsB);
        const mesmaTendencia = dados.every(d => d.tendencia === dados[0].tendencia);

        let statusClass = "status-vermelho", statusTexto = "DIFERENTES";
        if (todosIguais) { statusClass = "status-verde"; statusTexto = "IGUAIS"; }
        else if (mesmaTendencia) { statusClass = "status-amarelo"; statusTexto = "MESMO VENCEDOR"; }

        html += `<div class="espelho-jogo">
            <strong>${jogo}</strong> <span class="status-badge ${statusClass}">${statusTexto}</span><br>`;
        dados.forEach(d => {
            html += `<span style="font-size:10px; color:#94a3b8">üë§ ${d.nome}: ${d.golsA}x${d.golsB}</span><br>`;
        });
        html += `</div>`;
    }

    const out = document.getElementById('output-lideranca');
    out.innerHTML = html;
    out.style.display = 'block';
}

function executarComparacao() {
    const eu = document.getElementById('select-principal').value;
    const rivais = Array.from(document.getElementById('select-rivais').selectedOptions).map(o => o.value);
    const oficiais = extrairTodosJogos(document.getElementById('resultados_oficiais').value);
    const tabAnterior = document.getElementById('tabela_anterior').value;
    
    let resHTML = "";
    rivais.forEach(rival => {
        if(eu === rival) return;
        const inputs = Array.from(document.querySelectorAll('.palpite-input'));
        const txtEu = inputs.find(i => extrairNome(i.value) === eu).value;
        const txtRival = inputs.find(i => extrairNome(i.value) === rival).value;
        
        const palpitesEu = extrairTodosJogos(txtEu);
        const palpitesRival = extrairTodosJogos(txtRival);
        
        let iguaisCount = 0, listaDiferentes = "";
        
        palpitesEu.forEach(pEu => {
            if(oficiais.some(of => compararTimes(of.timeA, pEu.timeA))) return;
            const pRiv = palpitesRival.find(x => compararTimes(x.timeA, pEu.timeA));
            if(pRiv) {
                if(pEu.golsA === pRiv.golsA && pEu.golsB === pRiv.golsB) iguaisCount++;
                else {
                    const icon = Math.sign(pEu.golsA - pEu.golsB) === Math.sign(pRiv.golsA - pRiv.golsB) ? "üîµ" : "üî¥";
                    listaDiferentes += `<div class="slim-row"><span>${icon} ${pEu.timeA}</span> <span>${pEu.golsA}x${pEu.golsB} vs ${pRiv.golsA}x${pRiv.golsB}</span></div>`;
                }
            }
        });

        const ptsEu = (tabAnterior.split('\n').find(l => l.toLowerCase().includes(eu.toLowerCase()))?.match(/\d+(?=\s+Pts)/i) || [0])[0];
        const ptsRiv = (tabAnterior.split('\n').find(l => l.toLowerCase().includes(rival.toLowerCase()))?.match(/\d+(?=\s+Pts)/i) || [0])[0];
        const dif = Math.abs(ptsEu - ptsRiv);
        
        resHTML += `<div style="margin-top:15px; border-top:1px solid #334155; padding-top:10px;">
            <strong style="font-size:11px; color:var(--accent)">üÜö ${eu} vs ${rival}</strong>
            <div class="resumo-iguais">‚úÖ ${iguaisCount} palpites iguais</div>
            ${listaDiferentes}
            <div class="prob-footer">Dist√¢ncia: <strong>${dif} Pts</strong>. Falta acertar <strong>${Math.ceil(dif/3)}</strong> placares.</div>
        </div>`;
    });
    document.getElementById('container-comparacao').innerHTML = resHTML;
}

function detectarNome(index) {
    const texto = document.querySelectorAll('.palpite-input')[index].value;
    const nome = extrairNome(texto);
    document.getElementById('label-' + index).innerText = (texto.trim() === "" || nome === "Participante") ? "Part. " + (index + 1) : "üë§ " + nome;
}

function padronizarNome(n) {
    let nome = n.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[üî•‚è∞üë§‚òëÔ∏è#\*üìÜ‚Ä¢ü•áü•àü•â‚ö™Ô∏èüî¥üèÜüî¶]/g, '').trim();
    if (nome.includes("pit")) nome = "pitt";
    if (nome.includes("leo")) nome = "leo"; 
    if (nome.includes("fer")) nome = "fer";
    if (nome.includes("douglas")) nome = "doguinha";
    if (nome.includes("anderson")) nome = "acreano";
    if (nome.includes("leandro")) nome = "leandro";
    return nome.split(' ').map(p => p.charAt(0).toUpperCase() + p.slice(1)).join(' ');
}

function normalizar(t) {
    let txt = t; for (const [e, n] of Object.entries(mapaEmoji)) txt = txt.split(e).join(n);
    return txt.replace(/\*/g, '');
}

function compararTimes(timeA, timeB) {
    const limpar = (t) => t.toLowerCase().replace(/[^a-z0-9]/g, '');
    let t1 = limpar(timeA), t2 = limpar(timeB);
    return t1.includes(t2) || t2.includes(t1);
}

function extrairTodosJogos(textoBruto) {
    const textoNormalizado = normalizar(textoBruto);
    const linhas = textoNormalizado.split(/\n/);
    let jogos = [];
    const regexPlacar = /(\d+)\s*[xX]\s*(\d+)/;
    linhas.forEach(linha => {
        const m = linha.match(regexPlacar);
        if (m) {
            const partes = linha.split(m[0]); 
            let timeA = partes[0].trim();
            let timeB = partes[1].trim();
            timeB = timeB.split(/\d{2}:\d{2}/)[0].trim();
            timeA = timeA.replace(/[‚òëÔ∏è#üë§‚è∞]|^\s*\d+\s*[.\-)]?\s*/g, '').trim();
            if(timeA && timeB) jogos.push({ timeA, timeB, golsA: parseInt(m[1]), golsB: parseInt(m[2]) });
        }
    });
    return jogos;
}

function extrairNome(txt) {
    const m = txt.match(/(?:Nome|üë§Nome)[:\s#\*]*([^\n\*üî•‚è∞\r]+)/i);
    return padronizarNome(m ? m[1].trim() : "Participante");
}

function processarBolao() {
    const oficiais = extrairTodosJogos(document.getElementById('resultados_oficiais').value);
    const acumuladosTxt = document.getElementById('tabela_anterior').value;
    let mapaAcum = {};
    acumuladosTxt.split('\n').forEach(l => {
        const m = l.match(/(\d+)¬∫\s+([a-zA-Z0-9√°√©√≠√≥√∫√ß√£√µ\s]+)\s+(\d+)\s+Pts/i);
        if (m) mapaAcum[padronizarNome(m[2]).toLowerCase()] = parseInt(m[3]);
    });

    if (oficiais.length === 0) return alert("Cole os resultados oficiais!");

    let rankingTotal = [];
    document.querySelectorAll('.palpite-input').forEach(input => {
        if (!input.value.trim()) return;
        const nome = extrairNome(input.value);
        const palpitesMembro = extrairTodosJogos(input.value);
        let ptsHoje = 0, log = "";

        palpitesMembro.forEach(j => {
            const o = oficiais.find(of => compararTimes(of.timeA, j.timeA) && compararTimes(of.timeB, j.timeB));
            if (o) {
                let e = "üî¥";
                if (o.golsA === j.golsA && o.golsB === j.golsB) { ptsHoje += 3; e = "üü¢"; }
                else if (Math.sign(o.golsA - o.golsB) === Math.sign(j.golsA - j.golsB)) { ptsHoje += 1; e = "üü°"; }
                log += `${e} ${o.timeA} ${j.golsA}x${j.golsB} ${o.timeB}\n`;
            }
        });
        rankingTotal.push({ nome, ptsHoje, total: (mapaAcum[nome.toLowerCase()] || 0) + ptsHoje, log });
    });

    rankingTotal.sort((a, b) => b.total - a.total);
    
    const chartArea = document.getElementById('chart-area');
    chartArea.innerHTML = rankingTotal.slice(0, 6).map((p, i) => {
        let displayNome = p.nome;
        if (i === 0) displayNome = 'ü•á ' + p.nome;
        else if (i === 1) displayNome = 'ü•à ' + p.nome;
        else if (i === rankingTotal.length - 1 || i === 5) displayNome = 'üî¶ ' + p.nome;
        return `<div class="bar-item rank-${i+1}"><div style="font-size: 14px; margin-bottom: 2px;">${i+1}¬∫</div><div class="name-label">${displayNome}</div><div class="pts-label">${p.total} Pts</div></div>`;
    }).join('');

    document.getElementById('conf-area').innerHTML = rankingTotal.map(p => `
        <div class="conf-card">
            <div class="conf-header"><span>üë§ ${p.nome}</span> <span>+${p.ptsHoje} PTS</span></div>
            <div class="conf-divider"></div>
            <div class="conf-log">${p.log}</div>
        </div>`).join('');

    let txtRank = "*üî∞_C L A S S I F I C A √á √É O_üî∞*\n      *(üíØ% A t u a l i z a d a)*\n\n";
    const medalhas = ["*ü•á1¬∫", "ü•à2¬∫", "‚ö™Ô∏è 3¬∫", "‚ö™Ô∏è 4¬∫", "üî¥ 5¬∫", "üî¥ 6¬∫"];
    rankingTotal.forEach((p, i) => { txtRank += `${medalhas[i] || `‚ö™Ô∏è ${i+1}¬∫`} ${p.nome} ${p.total} Pts${i===0?'üèÜ*':i===rankingTotal.length-1?'üî¶':''}\n\n`; });
    txtRank += "*_üèÜ F i n a l 07 Maioü•á_*";
    
    let txtHoje = "‚öΩ PONTOS DA RODADA:\n\n" + [...rankingTotal].sort((a,b)=>b.ptsHoje-a.ptsHoje).map(p=>`${p.nome}: +${p.ptsHoje} Pts`).join('\n');
    cacheResultado = { ranking: txtRank, hoje: txtHoje, completo: txtRank + "\n\n" + txtHoje + "\n\n*üìä CONFER√äNCIA:*" + rankingTotal.map(p=>`\n\nüë§ *${p.nome}*:\n${p.log}`).join('') };
    
    document.getElementById('hoje-visivel').innerText = txtHoje;
    document.getElementById('resultado-display').style.display = 'block';
    document.getElementById('areaBotoes').style.display = 'flex';
}

function copiarOpcao(t) {
    const el = document.createElement('textarea'); el.value = cacheResultado[t];
    document.body.appendChild(el); el.select(); document.execCommand('copy');
    document.body.removeChild(el); alert("Copiado!");
}
</script>
</body>
</html>
